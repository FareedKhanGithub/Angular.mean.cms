var authApp=function(){function n(n,e){let t=document.getElementById(n);t.addEventListener("submit",function(n){n.preventDefault();let a=new FormData(t),r=`${window.location.origin}${e}`,o=new XMLHttpRequest;o.open("POST",r),o.setRequestHeader("Content-Type","application/json; charset=UTF-8");let s={};a.forEach(function(n,e){s[e]=n}),o.send(JSON.stringify(s)),o.onload=function(){!0===JSON.parse(o.response).success?window.location.href="/":document.getElementById("formMsg").style.display="block"}})}return{load:function(){switch(window.location.hash){case"#register":document.getElementById("app").innerHTML='\n        <div class="card login-form">\n          <form id="registrationForm" class="card-body">\n            <h1 class="card-title text-center">Create an Account</h1>\n            <div id="formMsg" class="alert alert-danger text-center">Your form has errors</div>\n\n            <div class="form-group">\n              <label for="first_name">First Name</label>\n              <input type="text" id="first_name" name="first_name" class="form-control" required>\n            </div>\n\n            <div class="form-group">\n              <label for="last_name">Last Name</label>\n              <input type="text" id="last_name" name="last_name" class="form-control" required>\n            </div>\n\n            <div class="form-group">\n              <label for="username">Username</label>\n              <input type="text" id="username" name="username" class="form-control" required>\n            </div>\n\n            <div class="form-group">\n              <label for="email">Email</label>\n              <input type="text" id="email" name="email" class="form-control" required>\n            </div>\n\n            <div class="form-group">\n              <label for="password">Password</label>\n              <input type="password" id="password" name="password" class="form-control" required>\n            </div>\n\n            <div class="form-group">\n              <label for="confirm_password">Confirm Password</label>\n              <input type="password" id="confirm_password" name="confirm_password" class="form-control" required>\n            </div>\n\n            <div>\n              <input type="submit" value="Sign In" class="btn btn-lg btn-primary btn-block">\n            </div>\n          </form>\n        </div>\n    ',n("registrationForm","/api/auth/register"),validate.registrationForm();break;default:document.getElementById("app").innerHTML='\n      <div class="card login-form">\n        <form id="loginForm" class="card-body">\n          <h1 class="card-title text-center">Please Sign In</h1>\n          <div id="formMsg" class="alert alert-danger text-center">Invalid username or password</div>\n          <div class="form-group">\n            <label for="username">Username</label>\n            <input type="text" id="username" name="username" class="form-control">\n          </div>\n          <div class="form-group">\n            <label for="password">Password</label>\n            <input type="password" id="password" name="password" class="form-control">\n          </div>\n          <div>\n            <input type="submit" value="Sign In" class="btn btn-lg btn-primary btn-block">\n          </div>\n        </form>\n      </div>\n    ',n("loginForm","/api/auth/login")}}}}(),validate=function(){return{registrationForm:function(){document.querySelector('#registrationForm input[type="submit"]').addEventListener("click",function(){!function(){let n=document.getElementById("email");/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(n.value).toLowerCase())?n.setCustomValidity(""):n.setCustomValidity("Invalid Email (xx@xx.xx)")}(),function(){let n=document.getElementById("password"),e=document.getElementById("confirm_password");n.value!==e.value?e.setCustomValidity("Passwords do not match"):e.setCustomValidity("")}()})}}}();authApp.load(),window.addEventListener("hashchange",function(){authApp.load()});